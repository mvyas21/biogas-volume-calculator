<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senior Design</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.4/flowbite.min.css" rel="stylesheet" />
</head>

<body>
    <div class="relative flex min-h-screen flex-col justify-center overflow-hidden bg-gray-50 py-6 sm:py-12">
        <img src="img/beams.jpg" alt="" class="absolute top-1/2 left-1/2 max-w-none -translate-x-1/2 -translate-y-1/2"
            width="1308" />
        <div class="absolute inset-0 bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]">
        </div>
        <div class="flex flex-col sm:flex-row sm:mx-auto md:gap-5">
            <div class="relative px-6 pt-10 pb-8 sm:max-w-lg sm:rounded-lg sm:px-10">
                <div class="mx-auto max-w-md">
                    <h1 class="text-2xl">Biogas Volume Calculator</h1>
                    <div class="divide-y divide-gray-300/50">
                        <div class="space-y-6 py-8 text-base leading-7 text-gray-900">
                            <p>This biogas volume calculator calculates the volume of rectangular lagoon-style anaerobic
                                digesters using the following equation:</p>
                            <p>V =IF(B7>2.8,(-0.00001382*B8^2)+(3.57457926*B8)-148273+B5, else (0.3323*B8-17508+B5)
                            </p>
                            <ul class="max-w-md space-y-1 list-disc list-inside">
                                <li>B1 = Length (user input)</li>
                                <li>B2 = Width (user input)</li>
                                <li>B3 = B1*B2 = Length * Width = Area</li>
                                <li>B4 = Freeboard Height (user input)</li>
                                <li>B5 = (B1*B2)*B4 = (Length*Width)*Freeboard Height = Freeboard Volume</li>
                                <li>B7 = Cover Height (user input)</li>
                                <li>B8 = B7*B3 = Cover Height * Area</li>
                            </ul>
                            <p>The output is in cubic feet and also in cubic yards (cubic feet/27).
                                This is the calculation sheet: <a class="text-sky-500 hover:text-sky-600"
                                    href="https://docs.google.com/spreadsheets/d/1BCEKop_INTDHuMe5SK4zIHNpOYHu3c5f/edit#gid=1512140818"
                                    target="_blank" rel="noopener noreferrer">Calculation Tool</a></p>
                            <p>These measurements can be gathered using the following procedure, which is also outlined
                                extensively in this report: <a class="text-sky-500 hover:text-sky-600"
                                    href="https://docs.google.com/document/d/1YnVLWxVhnzkUIKbNktvXwmu7yw8kbtRQAbScTiuuwLo/edit"
                                    target="_blank" rel="noopener noreferrer">Senior Design Report</a></p>
                            <p>
                                Below is an outline of the steps involved in gathering user input data:
                            </p>
                            <ol class="list-decimal">
                                <li>We utilized a handheld measuring device called <a href="https://www.moasure.com/"
                                        class="text-sky-500 hover:text-sky-600">Moasure</a>, which utilizes bluetooth
                                    and an iPhone application to easily collect the necessary data for this method.
                                    After purchasing the Moasure, the application will guide the user through the setup
                                    and usage process.
                                </li>
                                <li>Depending on the fill level of the digester (0%, 25%, 75%, or 100%), users can input
                                    the length, width, freeboard height, and cover height into the biogas volume
                                    calculator.</li>
                                <li>To determine the length and width of the digester, the perimeter of the digester can
                                    be taken.</li>
                                <li>While the freeboard height is typically standardized at 1.5 feet for most digesters,
                                    some digesters may have varying freeboard heights.</li>
                                <li>To determine the cover height, we measure the low point and high point elevations
                                    and take thee average. While these points may vary depending on the digester, we
                                    offer a reference example for standardized rectangular digesters.
                                    <img class="w-full mt-5" src="img/low-el-high-el.png" alt="Diagram">
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <div class="relative md:pt-10">
                <div
                    class="mx-auto w-96 max-w-md pb-8 px-6 pt-10 bg-white shadow-xl ring-1 ring-gray-900/5 sm:max-w-lg sm:rounded-lg sm:px-10">
                    <!-- <h1 class="text-2xl">Biogas Volume Calculator</h1> -->

                    <div class="divide-y divide-gray-300/50">
                        <div class="space-y-6 py-8 text-base leading-7 text-gray-600">
                            <!-- <p>This is some text, please change me.</p> -->

                            <div class="mb-6">
                                <label for="length" class="block mb-2 text-sm font-medium text-gray-900">Length
                                    (ft)</label>
                                <input type="number" id="length"
                                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                                    value="0" required>
                            </div>

                            <div class="mb-6">
                                <label for="width" class="block mb-2 text-sm font-medium text-gray-900">Width
                                    (ft)</label>
                                <input type="number" id="width"
                                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                                    value="0" required>
                            </div>

                            <div class="mb-6">
                                <label for="freeboardHeight"
                                    class="block mb-2 text-sm font-medium text-gray-900">Freeboard Height
                                    (ft)</label>
                                <input type="number" id="freeboardHeight"
                                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                                    value="0" required>
                            </div>

                            <div class="mb-6">
                                <label for="coverHeight" class="block mb-2 text-sm font-medium text-gray-900">Cover
                                    Height
                                    (ft)</label>
                                <input type="number" id="coverHeight"
                                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                                    value="0" required>
                            </div>

                            <button type="button" onclick="calculate()"
                                class="text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none">Calculate</button>

                            <h1 class="font-semibold text-xl" id="result"></h1>
                            <h1 class="font-semibold text-xl" id="result2"></h1>
                        </div>

                        <!-- <div class="pt-8 text-base font-semibold leading-7">
                            <p class="text-gray-900">Some link title</p>

                            <p>
                                <a href="https://tailwindcss.com/docs" class="text-sky-500 hover:text-sky-600">CTA
                                    &rarr;</a>
                            </p>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.4/flowbite.min.js"></script>
    <script>
        function biogasVolume1(b8, b5) {
            return (-0.00001382 * b8 * b8) + (3.57457926 * b8) - 148273 + b5;
        }

        function biogasVolume2(b8, b5) {
            return (0.3323 * b8) - 17508 + b5;
        }

        function calculate() {
            const length = parseFloat(document.getElementById('length').value);
            const width = parseFloat(document.getElementById('width').value);
            const freeboardHeight = parseFloat(document.getElementById('freeboardHeight').value);
            const coverHeight = parseFloat(document.getElementById('coverHeight').value);
            const b3Area = length * width;
            const b5FreeboardVolume = (length * width) * freeboardHeight;
            const b8 = coverHeight * b3Area;

            /*
            console.log({
                length: length,
                width: width,
                freeboardHeight: freeboardHeight,
                coverHeight: coverHeight,
                b3Area: b3Area,
                b5FreeboardVolume: b5FreeboardVolume,
                b8: b8
            });
            */

            const biogasVolume = coverHeight > 2.8 ? biogasVolume1(b8, b5FreeboardVolume) : biogasVolume2(b8, b5FreeboardVolume);

            document.getElementById('result').innerText = `Volume = ${Math.round(biogasVolume)} ft^3`;
            document.getElementById('result2').innerText = `Volume = ${Math.round(biogasVolume / 27)} yards^3`;
        }
    </script>
</body>

</html>